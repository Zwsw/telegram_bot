from telethon import TelegramClient, errors
import asyncio
from telethon.tl.functions.channels import JoinChannelRequest

# ‚ö†Ô∏è –ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ —Å–≤–æ–∏ API-–∫–ª—é—á–∏ –ø—É–±–ª–∏—á–Ω–æ!
api_id = 24586867
api_hash = "c74a1a9426f345c05ef9ac223f4e15ed"

# –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–µ—Å—Å–∏–∏ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
client = TelegramClient("/root/telegram_bot/my_session", api_id, api_hash)

async def check_session():
    if not await client.is_user_authorized():
        print("‚ö†Ô∏è –ë–æ—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é.")
        await client.start()  # –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∞–∫–∫–∞—É–Ω—Ç—É
        if not await client.is_user_authorized():
            print("‚ùå –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è.")
            return False
    return True

async def send_message():
    messages = [
         (-1002155201582, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1002120460328, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001908081281, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001977616744, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001836559413, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001913605567, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001219616310, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001905638993, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001895629699, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1002421389822, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001325538648, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74 –≥–∞—Ä–∞–Ω—Ç @GarantAV_BOT"),
         (-1002037221561, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001632685691, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∞–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001554811744, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001305009781, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001618705872, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74 (–≥–∞—Ä–∞–Ω—Ç: @Legion_Guarantor_Bot)"),
         (-1001996032429, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74 –≥–∞—Ä–∞–Ω—Ç @Freedom_Garant_Bot"),
         (-1001855792924, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1002374585006, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001894640231, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1002050112814, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1002045085999, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74"),
         (-1001425395464, "üì≤–ü–ª–∞—á—É 110‚ÇΩ –∑–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –Ω–∞ –ê–≤–∏—Ç–æ–≤\nüìù–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤ –¥–µ–Ω—å –æ—Ç 550‚ÇΩ –∑–∞ 10-15 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã\n‚ö°Ô∏è–ø–∏—Å–∞—Ç—å @zwsw_74 –ì–∞—Ä–∞–Ω—Ç @atlantis_grntbot"),
    ]

    for channel_id, message_text in messages:
        try:
            entity = await client.get_entity(channel_id)
            await client.send_message(entity, message_text)
            print(f"‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–∞–Ω–∞–ª {channel_id}")
            await asyncio.sleep(15)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
        except errors.FloodWaitError as e:
            print(f"‚è≥ Telegram —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–æ–∂–¥–∞—Ç—å {e.seconds} —Å–µ–∫—É–Ω–¥! –ñ–¥–µ–º...")
            await asyncio.sleep(e.seconds)
        except errors.ChatWriteForbiddenError:
            print(f"‚ùå –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –≤ {channel_id}.")
        except errors.ChannelPrivateError:
            print(f"‚ö†Ô∏è –ë–æ—Ç –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª {channel_id}. –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è...")
            try:
                await client(JoinChannelRequest(channel_id))
                print(f"‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ {channel_id} —É—Å–ø–µ—à–Ω–∞.")
            except Exception as e:
                print(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ {channel_id}: {e}")
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –≤ {channel_id}: {e}")

async def main():
    # –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
    await asyncio.sleep(5)
    await client.start()
    if not await check_session():
        return
    while True:
        await send_message()
        print("‚è≥ –ñ–¥–µ–º 1,5 —á–∞—Å–∞ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π —Ä–∞—Å—Å—ã–ª–∫–æ–π...")
        await asyncio.sleep(5400)  # 1,5 —á–∞—Å–∞

with client:
    client.loop.run_until_complete(main())
